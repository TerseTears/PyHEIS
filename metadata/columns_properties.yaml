#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#
#                                               #
#       Tables:                                 #
#           General:                            #
#               - household_information         #
#               - members_properties            #
#               - house_specifications          #
#                                               #
#           Expenditures:                       #
#               - food                          #
#               - cigaret                       #
#               - cloth                         #
#               - home                          #
#               - cloth                         #
#               - furniture                     #
#               - medical                       #
#               - transportation                #
#               - communication                 #
#               - entertainment                 #
#               - education                     #
#               - hotel                         #
#               - other                         #
#               - durable                       #
#               - investment                    #
#                                               #
#           Incomes:                            #
#               - employment_income             #
#               - self_employed_income          #
#               - other_income                  #
#               - subsidy                       #
#                                               #
#_______________________________________________#


######################################################################
##                     - - -    General   - - -                     ##
######################################################################


household_information:
    file_codes:
        1363: null
        1388: "Data"

    columns:
        Address: &household_information_Address
            1363:
                new_name: "ID"
                type: "unsigned"
        ADDRESS: *household_information_Address


members_properties:
    file_codes:
        1363: "P1"

    items:
        marrital_state: &marrital_state
            new_name: "Marrital_State"
            type: "category"
            categories: 
                1: "Married"
                2: "Widowed"
                3: "Divorced"
                4: "Bachelor"

    columns:
        Address: &property_Address
            1363:
                new_name: "ID"
                type: "unsigned"
        ADDRESS: *property_Address

        DYCOL01: &property_DYCOL01
            1363:
                new_name: "Member_Number"
                type: "unsigned"
        COL01: *property_DYCOL01

        DYCOL03: &property_DYCOL03
            1363:
                new_name: "Relationship"
                type: "category"
                categories:
                    1: "Head"
                    2: "Spouse"
                    3: "Child"
                    4: "Child-in-Law"
                    5: "Grand-Child"
                    6: "Parent"
                    7: "Sister/Brother"
                    8: "Other_Family"
                    9: "Non-Family"
        COL03: *property_DYCOL03

        DYCOL04: &property_DYCOL04
            1363:
                new_name: "Sex"
                type: "category"
                categories:
                    1: "Male"
                    2: "Female"
        COL04: *property_DYCOL04

        DYCOL05: &property_DYCOL05
            1363:
                new_name: "Age"
                type: "unsigned"
        COL05: *property_DYCOL05

        DYCOL06:
            1384: &property_DYCOL06_1384
                new_name: "Literate"
                type: "boolean"
                true_condition: 1
        COL06:
            1363: &property_COL06_1363
                new_name: "Member_Weeks"
                type: "unsigned"
            1364: *marrital_state
            1366: *property_COL06_1363
            1369: *property_DYCOL06_1384

        DYCOL07: 
            1384: &property_DYCOL07_1384
                new_name: "Student"
                type: "boolean"
                true_condition: 1
        COL07:
            1363: *marrital_state
            1364: &property_COL07_1364
                new_name: "Nationality"
                type: "unsigned"
            1366: &property_COL07_1366
                new_name: "Literacy_Status"
                type: "unsigned"
            1369: *property_DYCOL07_1384

        DYCOL08:
            1384: &property_DYCOL08_1384
                new_name: "Education_Level"
            1393:
                new_name: "Education_Level"
                type: "category"
                categories:
                    11: "Primary"
                    21: "Secondary"
                    31: "Tertiary"
                    41: "Pre_University"
                    51: "College"
                    52: "Bachelors"
                    53: "Masters"
                    61: "PhD"
                    71: "Unofficial"
            1397:
                new_name: "Education_Level"
                type: "category"
                categories:
                    1: "Primary"
                    2: "Secondary"
                    3: "Tertiary"
                    4: "Pre_University"
                    5: "College"
                    6: "Bachelors"
                    7: "Masters"
                    8: "PhD"
                    9: "Unofficial"
        COL08: 
            1363: *property_COL07_1364
            1364: *property_COL06_1363
            1366: &property_COL08_1366
                new_name: "Education_Level"
            1369: *property_DYCOL08_1384

        DYCOL09: 
            1384: &property_DYCOL09_1384
                new_name: "Activity_State"
                type: "category"
                categories: 
                    1: "Employed"
                    2: "Unemployed"
                    3: "Income_without_Work"
                    4: "Student"
                    5: "Housekeeper"
                    6: "Other"
        COL09:
            1363: *property_COL07_1366
            1366: *property_DYCOL09_1384

        DYCOL10: &property_DYCOL10
            1384: *marrital_state
        COL10:
            1363: *property_COL08_1366
            1366: &property_COL10_1366
                new_name: "Job_Code"
            1369: *marrital_state

        COL11:
            1363: *property_DYCOL09_1384
            1366: &property_COL11_1366
                new_name: "Work_Place"
                type: "unsigned"
            1369: null

        COL12:
            1363: *property_COL10_1366
            1366: &property_COL12_1366
                new_name: "Work_Type"
                type: "unsigned"
            1369: null

        COL13:
            1363: *property_COL11_1366
            1366: &property_COL13_1366
                new_name: "Employed_Weeks"
                type: "unsigned"
            1369: null

        COL14:
            1363: *property_COL12_1366
            1366: null

        COL15:
            1363: *property_COL13_1366
            1366: null

house_specifications:
    file_codes:
        1363: "P2"


######################################################################
##                   - - -    Expenditure   - - -                   ##
######################################################################


food:
    file_codes:
        1363: "P3S01"
    
    columns:
        Address: &food_Address
            1363:
                new_name: "ID"
                type: "unsigned"
        ADDRESS: *food_Address

        DYCOL01: &food_DYCOL01
            1363:
                new_name: "Code"
                type: "unsigned"
        COL1: *food_DYCOL01

        DYCOL02: &food_DYCOL02
            1363:
                new_name: "Provision_Method"
                type: "category"
                categories: 
                    1: "Purchase_Subsidised_Price"
                    2: "Purchase_Free_Price"
                    3: "Home_Production"
                    4: "Instead_of_Public_Service"
                    5: "Instead_of_Private_Service"
                    6: "Agricultural_Work"
                    7: "Non_Agricultural_Work"
                    8: "Donation"
            1369:
                new_name: "Provision_Method"
                type: "category"
                categories: 
                    2: "Purchase"
                    3: "Home_Production"
                    4: "Instead_of_Public_Service"
                    5: "Instead_of_Private_Service"
                    6: "Agricultural_Work"
                    7: "Non_Agricultural_Work"
                    8: "Donation"
            1374:
                new_name: "Provision_Method"
                type: "category"
                categories: 
                    1: "Purchase"
                    2: "Home_Production"
                    3: "Instead_of_Public_Service"
                    4: "Instead_of_Private_Service"
                    5: "Agricultural_Work"
                    6: "Non_Agricultural_Work"
                    7: "Donation"
            1379:
                new_name: "Provision_Method"
                type: "category"
                categories: 
                    1: "Purchase"
                    2: "Home_Production"
                    3: "Instead_of_Public_Service"
                    4: "Instead_of_Private_Service"
                    5: "Agricultural_Work"
                    6: "Non_Agricultural_Work"
                    7: "Donation"
                    8: "Instead_of_Cooperative_Service"
            1383:
                new_name: "Provision_Method"
                type: "category"
                categories: 
                    1: "Purchase"
                    2: "Home_Production"
                    3: "Instead_of_Public_Service"
                    4: "Instead_of_Cooperative_Service"
                    5: "Instead_of_Private_Service"
                    6: "Agricultural_Work"
                    7: "Non_Agricultural_Work"
                    8: "Donation"
        COL3: *food_DYCOL02

        DYCOL03: &food_DYCOL03
            1363: null
            1369:
                new_name: "Price_System"
                type: "category"
                categories: 
                    0: "Free_Price"
                    1: "Subsidised_Price"
            1374: null
            1383:
                new_name: "Grams"
                type: "float"
        COL4: *food_DYCOL03

        DYCOL04: &food_DYCOL04
            1363:
                new_name: "Kilos"
                type: "float"
        COL5: *food_DYCOL04
        COL4_5: *food_DYCOL04
        COL5_6: *food_DYCOL04

        DYCOL05:
            1384: &food_DYCOL05_1384
                new_name: "Price"
                type: "float"

        DYCOL06:
            1384: &food_DYCOL06_1384
                new_name: "Expenditure"
                type: "float"
        COL6:
            1363: *food_DYCOL06_1384
            1369: null
            1374: *food_DYCOL05_1384
        COL7:
            1363: null
            1369: *food_DYCOL05_1384
            1370: null
            1372: *food_DYCOL05_1384
            1374: *food_DYCOL06_1384
        COL8:
            1363: null
            1369: *food_DYCOL06_1384
            1374: null
        
        DYCOL07:
            1384:
                "drop"


cigaret:
    file_codes:
        1363: null
        1383: "P3S02"


cloth:
    file_codes:
        1363: "P3S02"
        1383: "P3S03"


home:
    file_codes:
        1363: "P3S03"
        1383: "P3S04"


furniture:
    file_codes:
        1363: "P3S04"
        1383: "P3S05"


medical:
    file_codes:
        1363: "P3S05"
        1383: "P3S06"


transportation:
    file_codes:
        1363: "P3S06"
        1383: "P3S07"


communication:
    file_codes:
        1363: null
        1383: "P3S08"


entertainment:
    file_codes:
        1363: "P3S07"
        1383: "P3S09"


education:
    file_codes:
        1363: null
        1383: "P3S10"


hotel:
    file_codes:
        1363: null
        1383: "P3S11"


other:
    file_codes:
        1363: "P3S08"
        1383: "P3S12"


durable:
    file_codes:
        1363: "P3S09"
        1383: "P3S13"


investment:
    file_codes:
        1363: null
        1366: "P3S10"
        1375: null
        1378: "P3S10"
        1383: "P3S14"

######################################################################
##                     - - -    Incomes   - - -                     ##
######################################################################


INCOME_BASE_ITEMS:
    income_base_columns: &income_base_columns
        Address: &employment_income_Address
            new_name: "ID"
            type: "unsigned"
        ADDRESS: *employment_income_Address

    income_member_number: &income_member_number
        new_name: "Member_Number"
        type: "unsigned"

    income_job_code: &income_job_code
        new_name: "Job_Code"
        type: "string"
    
    income_activity_status: &income_activity_status
        new_name: "Activity_Status"
        type: "unsigned"

    income_workplace_activity: &income_workplace_activity
        new_name: "Workplace_Activity"
        type: "string"

    income_sector_base: &income_sector_base
        new_name: "Sector"
        type: "category"
    income_sector_1: &income_sector_1
        <<: *income_sector_base
        categories:
            1: "Public"
            2: "Private"
    income_sector_2: &income_sector_2
        <<: *income_sector_base
        categories:
            1: "Public"
            2: "Cooperative"
            3: "Private"

    income_working_hours_per_day: &income_working_hours_per_day
        new_name: "Working_Hours_per_Day"
        type: "unsigned"

    income_working_day_per_week: &income_working_day_per_week
        new_name: "Working_Day_per_Week"
        type: "unsigned"

    income_monthly_gross: &income_monthly_gross
        new_name: "Monthly_Gross_Income"
        type: "float"

    income_yearly_gross: &income_yearly_gross
        new_name: "Yearly_Gross_Income"
        type: "float"

    income_monthly_continuous: &income_monthly_continuous
        new_name: "Monthly_Continuous_Income"
        type: "float"

    income_yearly_continuous: &income_yearly_continuous
        new_name: "Yearly_Continuous_Income"
        type: "float"

    income_monthly_temporary: &income_monthly_temporary
        new_name: "Monthly_Temporary_Income"
        type: "float"

    income_yearly_temporary: &income_yearly_temporary
        new_name: "Yearly_Temporary_Income"
        type: "float"

    income_monthly_net: &income_monthly_net
        new_name: "Monthly_Net_Income"
        type: "float"

    income_yearly_net: &income_yearly_net
        new_name: "Yearly_Net_Income"
        type: "float"


employment_income:
    file_codes:
        1363: null
        1369: "P4S1"
        1384: "P4S01"

    columns:
        <<: *income_base_columns
        COL01: *income_member_number
        DYCOL01: *income_member_number

        COL02:
            1369: *income_job_code
            1374: *income_activity_status
        DYCOL02:
            1384: *income_activity_status

        COL03:
            1369: *income_workplace_activity
            1374: *income_job_code
        DYCOL03:
            1384: *income_job_code

        COL04:
            1369: *income_sector_1
            1374: *income_workplace_activity
        DYCOL04:
            1384: *income_workplace_activity

        COL05:
            1369: null
            1370: *income_monthly_gross
            1374: *income_sector_1
            1376: *income_sector_2
        DYCOL05:
            1384: *income_sector_2
        
        COL06:
            1369: *income_yearly_gross
            1374: *income_monthly_gross
        DYCOL06:
            1384: *income_working_hours_per_day

        COL07:
            1369: null
            1370: *income_monthly_continuous
            1374: *income_yearly_gross
        DYCOL07:
            1384: *income_working_day_per_week

        COL08:
            1369: *income_yearly_continuous
            1374: *income_monthly_continuous
        DYCOL08:
            1384: *income_monthly_gross

        COL09:
            1369: null
            1370: *income_monthly_temporary
            1374: *income_yearly_continuous
        DYCOL09:
            1384: *income_yearly_gross

        COL10:
            1369: *income_yearly_temporary
            1374: *income_monthly_temporary
        DYCOL10:
            1384: *income_monthly_gross

        COL11:
            1369: null
            1370: *income_monthly_net
            1374: *income_yearly_temporary
        DYCOL11:
            1384: *income_yearly_continuous

        COL12:
            1369: *income_yearly_net
            1374: *income_monthly_net
        DYCOL12:
            1384: *income_monthly_temporary

        COL13:
            1369: null
            1374: *income_yearly_net
        DYCOL13:
            1384: *income_yearly_temporary

        DYCOL14:
            1384: *income_monthly_net

        DYCOL15:
            1384: *income_yearly_net


self_employed_income:
    file_codes:
        1369: "P4S2"
        1384: "P4S02"


other_income:
    file_codes:
        1369: "P4S3"
        1384: "P4S03"


subsidy:
    file_codes:
        1363: null
        1390: "P4S04"


# # # # # # # # # # - - - Old income tables - - - # # # # # # # # # #


public_employment_income: &public_employment_income
    file_codes:
        1363: P4S1
        1369: null

    property:
        urban_rural: [1363, 1364, 1365, 1366, 1367, 1368]

    columns:
        urban: 
            <<: *income_base_columns
            COL01:
                <<: *income_member_number
                replace:
                    "0]": "01"
            COL02:
                <<: *income_job_code
                type: "string"
            COL03:
                new_name: "Currently_in_This_Job"
                type: "boolean"
                true_condition: 1
            COL05: *income_yearly_gross
            COL07: 
                new_name: "Continuous_Income"
                type: "float"
            COL09: 
                new_name: "Temporary_Income"
                type: "float"
            COL11: 
                new_name: "Total_Income"
                type: "float"
        rural:
            <<: *income_base_columns
            COL01: *income_member_number
            COL02:
                <<: *income_job_code
                type: "string"
            COL03:
                new_name: "Currently_in_This_Job"
                type: "boolean"
                true_condition: 1
            COL05: 
                new_name: "Continuous_Income"
                type: "float"
            COL07: 
                new_name: "Temporary_Income"
                type: "float"
            COL09: 
                new_name: "Total_Income"
                type: "float"
        both:
            <<: *income_base_columns
            COL01: *income_member_number
            COL02:
                1369:
                    <<: *income_job_code
                    type: "string"
                1374: *income_activity_status


private_employment_income:
    <<: *public_employment_income
    file_codes:
        1363: P4S2
        1369: null